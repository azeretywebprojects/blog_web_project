{% extends 'base.html' %}

{% block content %}

    <div class="container my-4">

        {% if category_posts %}
            <h1>{{ cats }}</h1>

            <ul class="list-group">
                {% for post in category_posts  %}
                    <li class="list-group-item">
                        <a href="{% url 'article_details' post.pk %}">{{ post.title }}</a>
                        <br>
                        <small>
                            {{ post.author.first_name }} {{ post.author.last_name }} -
                            {{ post.post_date }}
                            {% if user.is_authenticated %}
                                - <a href="{% url 'update_post' post.pk %}" class="btn btn-warning btn-sm">(Edit Post)</a>
                                <a href="{% url 'delete_post' post.pk %}" class="btn btn-danger btn-sm">(Delete Post)</a>
                            {% endif %}
                        </small>
                        <br>
                        {{ post.text|slice:":150" }}
                    </li>
                {% endfor %}
            </ul>

        {% else %}
            <h2>Page does not exist</h2>
        {% endif %}

    </div>

{% endblock %}
