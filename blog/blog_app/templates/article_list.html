{% extends 'base.html' %}

{% block title %}{{ post.title_tag }} - This is a blog post{% endblock %}

{% block content %}

    <h1>{{ post.title }}</h1>
    <small>By:
        {{ post.author.first_name }}
        {{ post.author.last_name }} -
        {{ post.post_date }}
        {% if user.is_authenticated %}
            - <a href="{% url 'edit_post' post.pk %}">(Edit Post)</a>
            <a href="{% url 'delete_post' post.pk %}">(Delete Post)</a>
        {% endif %}
    </small><br/>
    <hr>
    <br/>
    {{ post.text|safe }}

    <br/><br/>

    <button type="button" class="btn btn-secondary btn-sm" onclick="window.location.href='{% url 'home' %}'">Back</button>

    <br><br/>
    <h2>Comments</h2>

    {% if not post.comments.all %}
        No comments yet.
        <br/><br/>
        <a href="{% url 'add_comment' post.pk %}">Add a comment</a>
    {% else %}
        <a href="{% url 'add_comment' post.pk %}">Add a comment</a>
        <br/><br/>
        {% for comment in post.comments.all %}
            <strong>
                {{ comment.name }}
                {{ comment.created }}
            </strong>
            <br/>
            {{ comment.body }}
            <br/><br>
        {% endfor %}
    {% endif %}
    <br/>

{% endblock %}
